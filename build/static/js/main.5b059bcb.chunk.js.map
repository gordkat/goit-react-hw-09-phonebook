{"version":3,"sources":["components/AppBar.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","redux/auth/auth-actions.js","redux/auth/auth-reducer.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/store.js","components/Navigation.js","components/AuthNav.js","components/UserMenu/no-foto.png","components/UserMenu/UserMenu.js","components/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","index.js"],"names":["module","exports","contactsActions","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","items","createReducer","_","payload","state","find","name","toLowerCase","alert","filter","id","error","loading","combineReducers","contactsOperations","fetchContacts","dispatch","a","axios","get","data","message","addContact","number","contact","post","then","catch","deleteContact","contactId","delete","getFilter","contacts","contactsSelectors","getLoading","getVisibleContacts","createSelector","normalizedFilter","includes","authActions","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","initialUserState","email","user","token","isAuthenticated","defaults","baseURL","headers","common","Authorization","authOperations","register","credentials","response","logIn","logOut","getCurrentUser","getState","persistedToken","auth","authSelectors","getIsAuthenticated","getUserName","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","authReducer","store","configureStore","reducer","contactsReducer","devTools","process","persistore","persistStore","NavLink","require","Navigation","useSelector","className","styles","navigation","to","exact","home","AuthNav","userNav","UserMenu","useDispatch","onLogout","useCallback","src","noFoto","alt","width","type","onClick","AppBar","header","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","HomeView","lazy","RegisterView","LoginView","ContactsView","App","useEffect","fallback","color","height","timeout","path","ReactDOM","render","StrictMode","persistor","document","getElementById"],"mappings":"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","file":"static/js/main.5b059bcb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"AppBar_navigation__2nh-N\",\"home\":\"AppBar_home__3Yefn\",\"userNav\":\"AppBar_userNav__2SS0R\",\"header\":\"AppBar_header__Xy8lT\",\"register\":\"AppBar_register__2jv8C\"};","import { createAction } from '@reduxjs/toolkit';\n\nconst fetchContactsRequest = createAction('contact/fetchContactsRequest');\nconst fetchContactsSuccess = createAction('contact/fetchContactsSuccess');\nconst fetchContactsError = createAction('contact/fetchContactsError');\n\nconst addContactRequest = createAction('contact/addContactRequest');\nconst addContactSuccess = createAction('contact/addContactSuccess');\nconst addContactError = createAction('contact/addContactError');\nconst deleteContactRequest = createAction('contact/deleteContactRequest');\nconst deleteContactSuccess = createAction('contact/deleteContactSuccess');\nconst deleteContactError = createAction('contact/deleteContactError');\n\nconst changeFilter = createAction('contacts/changeFilter');\n\nconst contactsActions = {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n};\n\nexport default contactsActions;\n","import { createReducer } from '@reduxjs/toolkit';\nimport { combineReducers } from 'redux';\n\nimport contactsActions from './contacts-actions';\n\nconst items = createReducer([], {\n  [contactsActions.fetchContactsSuccess]: (_, { payload }) => payload,\n  [contactsActions.addContactSuccess]: (state, { payload }) => {\n    const isExistContact = state.find(\n      ({ name }) => name.toLowerCase() === payload.name.toLowerCase(),\n    );\n    if (isExistContact) {\n      alert(`${payload.name} is already in contacts`);\n      return state;\n    }\n    return [...state, payload];\n  },\n  [contactsActions.deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst error = createReducer(null, {\n  [contactsActions.fetchContactsError]: (_, { payload }) => {\n    alert(payload);\n    return payload;\n  },\n  [contactsActions.addContactError]: (_, { payload }) => {\n    alert(payload);\n    return payload;\n  },\n  [contactsActions.deleteContactError]: (_, { payload }) => {\n    alert(payload);\n    return payload;\n  },\n  [contactsActions.fetchContactsSuccess]: () => null,\n  [contactsActions.addContactSuccess]: () => null,\n  [contactsActions.deleteContactSuccess]: () => null,\n});\n\nconst filter = createReducer('', {\n  [contactsActions.changeFilter]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [contactsActions.fetchContactsRequest]: () => true,\n  [contactsActions.fetchContactsSuccess]: () => false,\n  [contactsActions.fetchContactsError]: () => false,\n  [contactsActions.addContactRequest]: () => true,\n  [contactsActions.addContactSuccess]: () => false,\n  [contactsActions.addContactError]: () => false,\n  [contactsActions.deleteContactSuccess]: () => false,\n  [contactsActions.deleteContactError]: () => false,\n  [contactsActions.deleteContactRequest]: () => true,\n});\n\nexport default combineReducers({ items, error, filter, loading });\n","import axios from 'axios';\nimport contactsActions from './contacts-actions';\n\nconst fetchContacts = () => async dispatch => {\n  dispatch(contactsActions.fetchContactsRequest());\n  try {\n    const { data } = await axios.get('/contacts');\n    dispatch(contactsActions.fetchContactsSuccess(data));\n  } catch (error) {\n    dispatch(contactsActions.fetchContactsError(error.message));\n  }\n};\n\nconst addContact = (name, number) => dispatch => {\n  const contact = { name, number };\n  dispatch(contactsActions.addContactRequest());\n  axios\n    .post('/contacts', contact)\n    .then(({ data }) => dispatch(contactsActions.addContactSuccess(data)))\n    .catch(error => dispatch(contactsActions.addContactError(error.message)));\n};\n\nconst deleteContact = contactId => dispatch => {\n  dispatch(contactsActions.deleteContactRequest());\n  axios\n    .delete(`/contacts/${contactId}`)\n    .then(() => dispatch(contactsActions.deleteContactSuccess(contactId)))\n    .catch(error =>\n      dispatch(contactsActions.deleteContactError(error.message)),\n    );\n};\n\nconst contactsOperations = {\n  fetchContacts,\n  addContact,\n  deleteContact,\n};\n\nexport default contactsOperations;\n","import { createSelector } from '@reduxjs/toolkit';\nconst getLoading = state => state.contacts.loading;\nconst getFilter = state => state.contacts.filter;\nconst getAllContacts = state => state.contacts.items;\n\nconst getVisibleContacts = createSelector(\n  [getAllContacts, getFilter],\n  (items, filter) => {\n    const normalizedFilter = filter.toLowerCase();\n    return items.filter(({ name }) =>\n      name.toLowerCase().includes(normalizedFilter),\n    );\n  },\n);\n\nconst contactsSelectors = {\n  getLoading,\n  getFilter,\n  getVisibleContacts,\n};\n\nexport default contactsSelectors;\n","import { createAction } from '@reduxjs/toolkit';\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst loginRequest = createAction('auth/loginRequest');\nconst loginSuccess = createAction('auth/loginSuccess');\nconst loginError = createAction('auth/loginError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\nconst authActions = {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\nexport default authActions;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport authActions from './auth-actions';\n\nconst initialUserState = { name: null, email: null };\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => initialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\nconst error = createReducer(null, {\n  [authActions.registerError]: (_, { payload }) => payload,\n  [authActions.loginError]: (_, { payload }) => payload,\n  [authActions.logoutError]: (_, { payload }) => payload,\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\n});\n\nconst isAuthenticated = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n  [authActions.logoutSuccess]: () => false,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n});\n\nexport default combineReducers({ user, token, error, isAuthenticated });\n","import axios from 'axios';\nimport authActions from './auth-actions';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com/';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unSet() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = credentials => async dispatch => {\n  dispatch(authActions.registerRequest());\n  try {\n    const response = await axios.post('/users/signup', credentials);\n    token.set(response.data.token);\n    dispatch(authActions.registerSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.registerError(error));\n  }\n};\n\nconst logIn = credentials => async dispatch => {\n  dispatch(authActions.loginRequest());\n  try {\n    const response = await axios.post('/users/login', credentials);\n    token.set(response.data.token);\n    dispatch(authActions.loginSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.loginError(error));\n  }\n};\n\nconst logOut = () => async dispatch => {\n  dispatch(authActions.logoutRequest());\n  try {\n    await axios.post('/users/logout');\n    token.unSet();\n    dispatch(authActions.logoutSuccess());\n  } catch (error) {\n    dispatch(authActions.logoutError(error));\n  }\n};\n\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n  if (!persistedToken) return;\n  token.set(persistedToken);\n  dispatch(authActions.getCurrentUserRequest());\n  try {\n    const response = await axios.get('/users/current');\n    dispatch(authActions.getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\n\nconst authOperations = { register, logIn, logOut, getCurrentUser };\nexport default authOperations;\n","const getIsAuthenticated = state => state.auth.isAuthenticated;\nconst getUserName = state => state.auth.user.name;\nconst authSelectors = { getIsAuthenticated, getUserName };\nexport default authSelectors;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\n// import logger from 'redux-logger';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { contactsReducer } from './contacts';\nimport { authReducer } from './auth';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  // logger,\n];\n\nconst persistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\nconst persistedReducer = persistReducer(persistConfig, authReducer);\nexport const store = configureStore({\n  reducer: { auth: persistedReducer, contacts: contactsReducer },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistore = persistStore(store);\n","import { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\nimport styles from './AppBar.module.css';\nconst { NavLink } = require('react-router-dom');\n\nexport default function Navigation() {\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <nav className={styles.navigation}>\n      <NavLink to=\"/\" exact className={styles.home}>\n        Home\n      </NavLink>\n      {isAuthenticated && (\n        <NavLink to=\"/contacts\" exact>\n          Contacts\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n","import styles from './AppBar.module.css';\nconst { NavLink } = require('react-router-dom');\n\nexport default function AuthNav() {\n  return (\n    <div className={styles.userNav}>\n      <NavLink className={styles.register} to=\"/register\" exact>\n        Registration\n      </NavLink>\n      <NavLink to=\"/login\" exact>\n        Login\n      </NavLink>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/no-foto.22d7f1c8.png\";","import { useDispatch, useSelector } from 'react-redux';\nimport { useCallback } from 'react';\nimport noFoto from './no-foto.png';\nimport { authSelectors, authOperations } from '../../redux/auth';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n\n  const name = useSelector(authSelectors.getUserName);\n  const onLogout = useCallback(() => {\n    dispatch(authOperations.logOut());\n  }, [dispatch]);\n  return (\n    <div className=\"UserMenu\">\n      <img\n        src={noFoto}\n        alt=\"user's avatar\"\n        width=\"32\"\n        className=\"User__avatar\"\n      />\n      <span className=\"User__greating\">Welcome, {name}</span>\n      <button type=\"button\" onClick={onLogout}>\n        Logout\n      </button>\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport Navigation from './Navigation';\nimport AuthNav from './AuthNav';\nimport UserMenu from './UserMenu';\nimport { authSelectors } from '../redux/auth';\nimport styles from './AppBar.module.css';\n\nexport default function AppBar() {\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <header className={styles.header}>\n      <Navigation />\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\nexport default function PrivateRoute({ children, redirectTo, ...routeProps }) {\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <Route {...routeProps}>\n      {isAuthenticated ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\nexport default function PublicRoute({ children, ...routeProps }) {\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <Route {...routeProps}>\n      {isAuthenticated && routeProps.restricted ? (\n        <Redirect to=\"/contacts\" />\n      ) : (\n        children\n      )}\n    </Route>\n  );\n}\n","import { Suspense, lazy, useEffect } from 'react';\nimport { Switch } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport Loader from 'react-loader-spinner';\nimport AppBar from './components/AppBar';\nimport { authOperations } from './redux/auth';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nconst HomeView = lazy(() => import('./views/HomeView'));\nconst RegisterView = lazy(() => import('./views/RegisterView'));\nconst LoginView = lazy(() => import('./views/LoginView'));\nconst ContactsView = lazy(() => import('./views/ContactsView'));\n\nexport default function App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <>\n      <AppBar />\n      <Suspense\n        fallback={\n          <Loader\n            type=\"Circles\"\n            color=\"#b2ee8e\"\n            height={50}\n            width={50}\n            timeout={3000}\n            className=\"Loader\"\n          />\n        }\n      >\n        <Switch>\n          <PublicRoute exact path=\"/\">\n            <HomeView />\n          </PublicRoute>\n          <PublicRoute path=\"/register\" restricted>\n            <RegisterView />\n          </PublicRoute>\n          <PublicRoute path=\"/login\" restricted>\n            <LoginView />\n          </PublicRoute>\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <ContactsView />\n          </PrivateRoute>\n        </Switch>\n      </Suspense>\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistore } from './redux/store';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistore}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}